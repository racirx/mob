<html>

{{ template "header" }}

<style>
    input[type=button],
    input[type=submit],
    input[type=reset]{
        border: none;
        color: white;
        padding: 16px 32px;
        text-decoration: none;
        cursor: pointer;
        width: 100%;
        font-size: 1em;
        border-radius: 0.5em;
    }
    form {
        margin-top: 1em;
        height: 300px;
    }
    textarea {
        width: 100%;
        margin-bottom: 1em;
    }

    .draft-btn {
        border: 1px solid grey !important;
        color: grey !important;
        background-color: white;
    }
    .draft-btn:hover {
        color: white !important;
        background-color: grey;
    }

    .submit-btn {
        background-color: DodgerBlue;
    }
    .submit-btn:hover {
        background-color: RoyalBlue;
    }

    /* Style buttons */
    .btn {
        background-color: DodgerBlue; /* Blue background */
        border: none; /* Remove borders */
        color: white; /* White text */
        padding: 12px 16px; /* Some padding */
        font-size: 16px; /* Set a font size */
        cursor: pointer; /* Mouse pointer on hover */
        border-radius: 0.5em;
    }

    /* Darker background on mouse-over */
    .btn:hover {
        background-color: RoyalBlue;
    }

    @media only screen and (max-width: 600px) {
        .container {
            width: 100%;
        }
    }
</style>

<!-- Main Quill library -->
<link href="//cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="//cdn.quilljs.com/1.3.6/quill.js"></script>

<div class="container centered">
    <img class="avatar" src="{{ .picture }}" alt="Icon"/>
    <h2>Welcome {{ .name }}</h2>
    <button onclick="logout()" class="btn"><i class="fa fa-sign-out"></i></button>

    <form method="post" id="form">
        <div id="editor"></div>
        <textarea id="letter" name="letter" style="display:none;"></textarea>
        <br/>
        <input class="draft-btn" type="submit" name="submit" value="Save Draft" />
        <input class="submit-btn" type="submit" name="submit" value="Submit" />
    </form>
</div>

<script>
    function logout() {
        document.cookie = "session=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        window.location = "/logout";
    }

    let quill = new Quill('#editor', {
        theme: 'snow',
    });

    $("#form").submit(function() {
        $("#letter").val($("#editor").html());
    });
</script>

</html>